# 简单图论题

## 题目描述

给定一个$n$个点$m$条边的有边权的无向图，请输出$\frac{n\times(n-1)}{2}$个数表示对于每一组点对$(i,j)$，他们之间的最短路经过了多少条边$(i<j)$

注意：

如果对于点对$(i,j)$，有多条最短路经过了同一条边，不会重复计数

如果对于点对$(i,j)$，没有任何一条路径可以使他们相互到达，则该点对的答案为$0$

## 输入格式

第一行两个正整数$n,m$表示无向图的点数，边数

此后$m$行，每行三个正整数，表示一条边的两端点和边权

## 输出格式

一行$\frac{n\times(n-1)}{2}$个数依次表示点对$(1,2),(1,3)...(1,n-1)$，$(2,3),(2,4)...(2,n-1)$，...，$(n-2,n-1)$的答案

## 样例输入

```
5 7
1 5 1
1 4 2
5 4 1
5 2 2
4 2 1
3 4 3
2 1 3
```

## 样例输出

```
6 4 3 1 2 1 3 1 2 1
```

## 样例解释

![Xnip2020-10-10_10-50-08.jpg](https://i.loli.net/2020/10/10/Ko4x6XWPQinpM1k.jpg)

$(1,2)$的最短路径有：

$1->2$

$1->5->2$

$1->4->2$

$1->5->4->2$

经过的边有：$(1,2),(1,5),(1,4),(5,2),(4,2),(5,4)$共$6$条

## 数据范围与约定





保证没有重边和自环

## 题解

如果一条一条路算的话非常不好去重，不妨一个一个点算

对于点对$(i,j)$枚举位于其最短路上的点$k$，统计以$k$为端点，且位于$(i,k)$最短路径上的边的个数$cnt[i][k]$，则$ans[i][j]=\sum\limits_kcnt[i][k]$，只要$cnt[i][k]$没有重复，最终的$dp[i][j]$也不会重复统计

先跑一遍Floyd以方便检查$k$，预处理$cnt[i][k]$只需要枚举$i,k$并检查以$k$为以端点的边的另一端点是否在$(i,k)$的最短路上

复杂度$O(n^3)$