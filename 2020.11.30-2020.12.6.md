http://zhengruioi.com/contest/764/problem/1695

给定一二叉树，每个点初始黑或白色，两种操作：一：将简单路径上的点全部翻转；二：将子树内的点全部翻转；且前者不能有点相交，求最少操作次数使得树变为纯色

不能有点相交意味着每个点最多从子树中保留一条路径等待和更上面的点构成简单路径，所以令$dp[i][0/1][0/1]$表示以$i$为根的子树中，第二维记录颜色，第三维$0$表示子树是纯色，$1$表示有一条路径是反色

对于纯色子树，如果要求其颜色与根不一样：

①两棵子树与根颜色相同，最后用操作二

②两棵子树与要求颜色相同，根单独用操作一

③选一棵子树留一条和根颜色相同的路径，另一棵子树与要求颜色相同，用操作一

④两棵子树都留和根颜色相同的路径，用操作一

纯色子树之间用操作二转化

对于留一条路径的情况，如果路径保留颜色与根相同，其余点为其余颜色：

①选一棵子树留一条和根颜色相同的路径，另一棵子树保持其余颜色

②两棵子树均保持其余颜色，根单独作为保留颜色