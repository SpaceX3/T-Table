https://ac.nowcoder.com/acm/contest/7611/D

定义"偶数"为前一半和后一半完全一致的数，给定初始"偶数"$vv$，可以向后面添加尽可能少地数字使其成为一个新的偶数，这样添加到$n$位后，多次询问$[l,r]$组成的数

$vv$的下一个"偶数"一定是$vwvw$，其中$w$是$v$的最短周期且是一个前缀，即$len-nxt[len]$的一段，否则$vw$作为下一个$v$一定会更长不是最优；

如果$|w|$是$|v|$的因数，则最终的$v$将是$vwww...$；若不是，则$vw$的最短周期一定是$v$，因为无论如何二者相连的地方一定不可能位于同一个循环节内；对于两种情况都有$v_1=v,v_2=vw,v_i=v_{i-1}+v_{i-2}$，最终答案是$v_{\infty}$的一个前缀，最多$logn$个$v$即可拼到$n$位，所以可以预处理$v_i$的长度，数字，$10^{len_i}$，最终从大到小遍历$v_i$拼出$[1,x]$的答案串，做差即是答案



http://zhengruioi.com/contest/743/problem/1668

给定初始数轴上的点和移动方向，每个单位时间每个点都会向它的移动方向移动1单位长度，碰到就掉头；多次询问第$x_i$个点$t_i$时间所在的位置

碰到掉头可以看做穿过去；对于第$x_i$个点，我们只在意其移动方向上和他方向相反的点(个数为$c1$) 和 移动相反方向上和他移动相同的点(个数为$c2$)；即从$x_i$的位置将序列分成两段，对于点$u$如果以他为起点，在朝向$x_i$的方向上距离为$t_i$的一段里$c1==c2$则$x_i$最后的轨迹和$u$一路穿过来是一样的；$O(qnlogn)$的方法是对于每个询问枚举$u$，然后二分算出$t_i$距离里的$c1,c2$，$O(qlog^2n)$可以发现从$x_i$向两边跑的时候$c1-c2$是单调的，还可以二分$u$的位置



http://zhengruioi.com/contest/745/problem/1670

长度为$n$初始全0的序列，两人轮流在上面选择连续的一段长度不超过$k$的$0$变成一段$1$，如无法选择则输，问先手是否必胜

如果先手能从中间选择一段把序列分成两段，则只需要跟对手镜像走一定可以获胜；$k\geq 2$一定可以，否则只有奇数可以



